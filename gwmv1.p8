pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
case_x = 8 -- largeur d'une cellule
case_y = 8 -- hauteur d'une cellule
grid_width = 16 -- nombre de colonnes
grid_height = 16 -- nombre de lignes
hud_grid_width = 16
hud_grid_height = 3

tile_set = {} -- tableau pour stocker les coordonnれたes de la grille
hud_tile_set = {}

--player function
pointer_x = 64
pointer_y = 64
pointer_speed = 8
function clock(speed) 
			
end
function reset_pointer()
    if pointer_x < 0 then pointer_x = 120 - pointer_speed end
    if pointer_x > 120 then pointer_x = 0 + pointer_speed end
    if pointer_y < 0 then pointer_y = 120 - pointer_speed end
    if pointer_y > 120 then pointer_y = 0 + pointer_speed end
end

function _update()
    -- movement controller
   	 if btn((0)) then pointer_x = pointer_x - pointer_speed end -- gauche
  	  if btn((1)) then pointer_x = pointer_x + pointer_speed end -- droite
   	 if btn((2)) then pointer_y = pointer_y - pointer_speed end -- haut
  	  if btn((3)) then pointer_y = pointer_y + pointer_speed end -- bas
    -- cursor side switch
    reset_pointer()
end

-- fonction pour initialiser la grille
function init_grid()
    for row = 0, grid_height - 1 do
        for col = 0, grid_width - 1 do
            -- calcul des coordonnれたes x et y pour chaque cellule
            local x = col * case_x
            local y = row * case_y
            -- ajouter les coordonnれたes au tableau
            add(tile_set, {x, y})
        end
    end
    for row = 0, hud_grid_height - 1 do
        for col = 0, grid_width - 1 do
            local x = col * case_x
            local y = row * case_y
            add(hud_tile_set, {x, y})
        end
    end
end

function _init()
    init_grid() -- initialiser la grille au dれたmarrage
end

function _draw()
    cls() -- effacer l'れたcran

    -- dessiner chaque cellule de la grille
    for i = 1, #tile_set do
        local x = tile_set[i][1]
        local y = tile_set[i][2]
        rect(x, y, x + case_x - 1, y + case_y - 1, 7) -- dessiner un rectangle
        if i <= 208 then
            rect(x, y, x + case_x - 1, y + case_y - 1, 2)
        end
    end

    -- dessiner chaque cellule du hud
    for i = 1, #hud_tile_set do
        local x = hud_tile_set[i][1]
        local y = hud_tile_set[i][2]
        rect(x, y, x + case_x - 1, y + case_y - 1, 2)
    end

    -- dessiner le pointeur
    spr(16, pointer_x, pointer_y)
end
__gfx__
0000000000000000000000000000000000bbb0000000000000000000000000066000000000000000000000000000000000000000000000000000000000000000
00000000000660000000000000000000003330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000799600000000000000000003b3b3000000000000000000000006666660000000000000000000000000000000000000000000000000000000000000
0007700007677660000000000000000003bbb3000000000000000000000000066000000000000000000000000000000000000000000000000000000000000000
00077000067cc6600000000000000000037b73000000000000000000000000066000000000000000000000000000000000000000000000000000000000000000
007007000666666000000000000000000f373f000000000000000000000000699600000000000000000000000000000000000000000000000000000000000000
00000000066006600000000000000000093339000000000000000000060006677660006000000000000000000000000000000000000000000000000000000000
000000000600006000000000000000000030300000000000000000000666666cc666666000000000000000000000000000000000000000000000000000000000
00000000060650600000000000000000000000000000000000000000066666666666666000000000000000000000000000000000000000000000000000000000
00066000060650600000000000000000000000000000000000000000009967700776990000000000000000000000000000000000000000000000000000000000
00066000069669600000000000000000000000000000000000000000000066700766000000000000000000000000000000000000000000000000000000000000
06600660066666600000000000000000000000000000000000000000000066777760000000000000000000000000000000000000000000000000000000000000
06600660066666600000000000000000000000000000000000000000000006677660000000000000000000000000000000000000000000000000000000000000
00066000006666000000000000000000000000000000000000000000000000677660000000000000000000000000000000000000000000000000000000000000
00066000000660000000000000000000000000000000000000000000000000666600000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000966900000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000bbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000003333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000b333333b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000bbb33bbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000bb3003bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000b300003b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000b000000b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000b000000b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000b330033b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000bb3003bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000bb3003bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000bbb00bbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000bb00bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000bb99bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000b00b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000a00000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000a00000a0a0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000a0000000a000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000a00000a0a0a000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000a00000a0a0a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000a0000000a0a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000000003e6503d6503c6503f65039650386503565034640336403264030630306402e6402d6502c6502a650296502965028650266502365022650206501e6501d6501c6501c6501c6501c6501b6501865018650
001300001c0501a0501c0501c05018050180501a050180501c0501a050180501a0501d0501a0501a050180501a0501f0501f05021050100501a0501c0501c0501a0501c0501a050180501a0501c0501d0501a050
00132100101501015011150111500c1500c15211151111501115010150101500715007150101501015010150101501115013150131501015011150101500e1500e1500c1500e1501015011150111500c1500b150
001300002825026250282502825024250242502425024250262502425023250242502625028250282502825024250242502625028250242502325021250212502325024250262502825024250232502325023250
00050000306502b6502b6502b6502b6502b6502b650296502865025650246501f6501d6501c6501a6501965016650156501565013650126501165011650106500f6500d6500c6500a65009650076500565004650
001000001e6501f6501e6501d6501c6501b6501965014650186501265015650126500f6500e6500c6500765004650026500165002650006500b6500b6500b6500a6500a650096500865006650046500000000000
__music__
00 01024344
00 01020344
00 41424344
00 04424344
00 04454344

